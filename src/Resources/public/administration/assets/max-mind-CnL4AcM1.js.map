{"version":3,"file":"max-mind-CnL4AcM1.js","sources":["../../../app/administration/src/module/sw-order/page/sw-order-list/sw-order-list.html.twig","../../../app/administration/src/module/sw-order/page/sw-order-list/index.js","../../../app/administration/src/module/sw-order/view/sw-order-detail-general/sw-order-detail-general.html.twig","../../../app/administration/src/module/sw-order/view/sw-order-detail-general/index.js","../../../app/administration/src/module/maxmind/extension/sw-order-list.html.twig","../../../app/administration/src/module/maxmind/extension/sw-order-list.js","../../../app/administration/src/module/maxmind/extension/sw-order-general-info.html.twig","../../../app/administration/src/module/maxmind/extension/sw-order-general-info.js","../../../app/administration/src/component/maxmind-api-test/maxmind-api-test.html.twig","../../../app/administration/src/component/maxmind-api-test/index.js","../../../app/administration/src/service/maxmind-api-test.service.js","../../../app/administration/src/main.js"],"sourcesContent":["                {% block sw_order_list_grid_columns_delivery_address %}\n                <template #column-deliveries.id=\"{ item }\">\n                    <template v-if=\"item.deliveries && item.deliveries[0] && item.deliveries[0].shippingOrderAddress\">\n                        <div\n                            v-tooltip=\"{\n                                showDelay: 300,\n                                width: 400,\n                                disabled: item.deliveries.length <= 1,\n                                message: deliveryTooltip(item.deliveries)\n                            }\"\n                            class=\"sw-order-list__delivery_address\">\n                            {{ item.deliveries[0].shippingOrderAddress.street }},\n                            {{ item.deliveries[0].shippingOrderAddress.city }},\n                            {{ getStateNameById(item.deliveries[0].shippingOrderAddress.countryStateId) }},\n\n                            {{ item.deliveries[0].shippingOrderAddress.zipcode }}\n                        </div>\n                    </template>\n                </template>\n                {% endblock %}\n                {% block sw_order_list_grid_columns_amount %}\n                    <template #column-amountTotal=\"{ item }\">\n                        {{ (item.amountTotal).toFixed(2) }} {{ item.currency.translated.shortName }}\n                    </template>\n                {% endblock %}","import template from './sw-order-list.html.twig';\n\nconst { Component } = Shopware;\n\nComponent.override('sw-order-list', {\n    template,\n    inject: ['repositoryFactory'],\n    data() {\n        return {\n            loadedStates: {},\n        };\n    },\n\n    watch: {\n        orders: {\n            handler() {\n                this.loadCountryStates();\n            },\n            immediate: true,\n            deep: true,\n        },\n    },\n\n    computed: {\n        orderColumns() {\n            const columns = this.$super('orderColumns');\n\n            columns.push({\n                property: 'customFields.maxmind_fraud_risk',\n                label: 'Fraud Risk Score',\n                allowResize: true,\n                align: 'right',\n                sortable: true,\n                rawData: true,\n                renderer(value, order) {\n                    const fraudScore = order?.customFields?.maxmind_fraud_risk;\n                    return fraudScore !== null && fraudScore !== undefined\n                        ? parseFloat(fraudScore)\n                        : '-';\n                },\n            });\n\n            return columns;\n        },\n    },\n\n    methods: {\n        async loadCountryStates() {\n            const repo = this.repositoryFactory.create('country_state');\n\n            const stateIds = [...new Set(\n                (this.orders || [])\n                    .map(order => order?.deliveries?.[0]?.shippingOrderAddress?.countryStateId)\n                    .filter(Boolean)\n            )];\n\n            if (!stateIds.length) return;\n\n            const criteria = new Shopware.Data.Criteria(1, 100);\n            criteria.addFilter(Shopware.Data.Criteria.equalsAny('id', stateIds));\n\n            try {\n                const result = await repo.search(criteria);\n                this.loadedStates = result.reduce((acc, state) => {\n                    acc[state.id] = state;\n                    return acc;\n                }, {});\n            } catch (e) {\n                console.error('Failed to load country states:', e);\n            }\n        },\n\n        getStateNameById(id) {\n            return this.loadedStates?.[id]?.name ?? '';\n        },\n    },\n});\n","{% block sw_order_detail_general %}\n    <sw-card v-if=\"hasMaxMindData\">\n        <div class=\"sw-order-detail-general__maxmind-risk-scores\">\n            <span class=\"h2\">\n                {{ $tc('sw-order-detail-general.maxmindRiskScores.title') }}\n            </span>\n\n            <div class=\"sw-order-detail-general__maxmind-scores\">\n                <div class=\"sw-order-detail-general__maxmind-score\">\n                    <strong>{{ $tc('sw-order-detail-general.maxmindRiskScores.fraudRisk') }}</strong>\n                    <span>{{ fraudScore }}</span>\n                </div>\n                <div class=\"sw-order-detail-general__maxmind-score\">\n                    <strong>{{ $tc('sw-order-detail-general.maxmindRiskScores.overallRiskScore') }}</strong>\n                    <span>{{ overallRiskScore }}</span>\n                </div>\n                <div class=\"sw-order-detail-general__maxmind-score\">\n                    <strong>{{ $tc('sw-order-detail-general.maxmindRiskScores.ipRiskScore') }}</strong>\n                    <span>{{ ipRiskScore }}</span>\n                </div>\n            </div>\n\n            <div class=\"sw-order-detail-general__maxmind-actions\">\n                <sw-button\n                    variant=\"primary\"\n                    @click=\"openMaxMind\"\n                >\n                    {{ $tc('sw-order-detail-general.maxmindFraudDetection.viewInMaxMind') }}\n                </sw-button>\n\n\n                <sw-button\n                        variant=\"secondary\"\n                        :disabled=\"!transactionId\"\n                        @click=\"copyTransactionId\"\n                >\n                    {{ $tc('sw-order-detail-general.maxmindFraudDetection.copyTransactionId') }}\n                </sw-button>\n\n                <sw-button\n                        variant=\"secondary\"\n                        :disabled=\"!warningsFactors.length\"\n                        @click=\"toggleWarningsFactors\"\n                >\n                    {{ $tc('sw-order-detail-general.maxmindFraudDetection.viewWarningsFactors') }}\n                </sw-button>\n            </div>\n\n            <div v-if=\"showWarningsFactors\" class=\"sw-order-detail-general__maxmind-warnings-factors\">\n                <ul>\n                    <li v-for=\"factor in warningsFactors\" :key=\"factor\">{{ factor }}</li>\n                </ul>\n            </div>\n        </div>\n    </sw-card>\n\n    {% parent() %}\n{% endblock %}\n","import template from './sw-order-detail-general.html.twig';\n\nShopware.Component.override('sw-order-detail-general', {\n    template,\n\n    data() {\n        return {\n            showWarningsFactors: false,\n        };\n    },\n\n    computed: {\n        fraudScore() {\n            if (\n                !this.order?.customFields ||\n                this.order.customFields.maxmind_fraud_risk === undefined\n            ) {\n                return 'N/A';\n            }\n            return this.order.customFields.maxmind_fraud_risk;\n        },\n\n        overallRiskScore() {\n            return (\n                this.order?.customFields?.maxmind_overall_risk_score || 'N/A'\n            );\n        },\n\n        ipRiskScore() {\n            return this.order?.customFields?.maxmind_ip_risk_score || 'N/A';\n        },\n\n        transactionId() {\n            return this.order?.customFields?.maxmind_transaction_id || '';\n        },\n\n        transactionUrl() {\n            return this.order?.customFields?.maxmind_transaction_url || '#';\n        },\n\n        warningsFactors() {\n            const factors =\n                this.order?.customFields?.maxmind_warnings_factors || [];\n            return Array.isArray(factors) ? factors : [];\n        },\n\n        hasMaxMindData() {\n            return (\n                this.fraudScore !== 'N/A' ||\n                this.overallRiskScore !== 'N/A' ||\n                this.ipRiskScore !== 'N/A' ||\n                this.transactionId ||\n                this.transactionUrl !== '#' ||\n                this.warningsFactors.length > 0\n            );\n        },\n    },\n\n    methods: {\n        openMaxMind() {\n            if (this.transactionUrl && this.transactionUrl !== '#') {\n                window.top.open(this.transactionUrl, '_blank'); // <-- important\n            } else {\n                this.createNotificationError({\n                    title: 'MaxMind',\n                    message: 'No valid transaction URL found.'\n                });\n            }\n        },\n        copyTransactionId() {\n            if (!this.transactionId) {\n                this.createNotificationError({\n                    message: this.$tc('sw-order-detail-general.maxmindFraudDetection.noTransactionId'),\n                });\n                return;\n            }\n\n            navigator.clipboard\n                .writeText(this.transactionId)\n                .then(() => {\n                    this.createNotificationSuccess({\n                        message: this.$tc('sw-order-detail-general.maxmindFraudDetection.transactionIdCopied'),\n                    });\n                })\n                .catch(() => {\n                    this.createNotificationError({\n                        message: this.$tc('sw-order-detail-general.maxmindFraudDetection.copyFailed'),\n                    });\n                });\n        },\n\n        toggleWarningsFactors() {\n            this.showWarningsFactors = !this.showWarningsFactors;\n        },\n    },\n});\n","{% block sw_order_list_grid_columns_state %}\n    <template #column-stateMachineState.name=\"{ item }\">\n        <div class=\"sw-order-list__state\">\n            <sw-color-badge\n                :color=\"getVariantFromOrderState(item)\"\n                :class=\"getStatusBadgeClass(item.stateMachineState.technicalName)\"\n                rounded\n            />\n            {{ item.stateMachineState.translated.name }}\n        </div>\n    </template>\n{% endblock %}","import template from './sw-order-list.html.twig';\n\nShopware.Component.override('sw-order-list', {\n    template,\n\n    methods: {\n        getStatusBadgeClass(technicalName) {\n            switch (technicalName) {\n                case 'fraud_pass':\n                    return 'sw-color-badge--fraud-pass';\n                case 'fraud_review':\n                    return 'sw-color-badge--fraud-review';\n                case 'fraud_fail':\n                    return 'sw-color-badge--fraud-fail';\n                case 'in_progress':\n                    return 'sw-color-badge--in-progress';\n                case 'completed':\n                    return 'sw-color-badge--completed';\n                case 'cancelled':\n                    return 'sw-color-badge--cancelled';\n                default:\n                    return '';\n            }\n        },\n\n        getVariantFromOrderState(item) {\n            const technicalName = item.stateMachineState.technicalName;\n            switch (technicalName) {\n                case 'in_progress':\n                    return 'primary';\n                case 'completed':\n                    return 'success';\n                case 'cancelled':\n                    return 'danger';\n                case 'open':\n                    return 'neutral';\n                case 'fraud_pass':\n                    return 'success';\n                case 'fraud_review':\n                    return 'primary';\n                case 'fraud_fail':\n                    return 'danger';\n                default:\n                    return 'neutral';\n            }\n        },\n    },\n});\n","{% block sw_order_detail_base_general_info_order_states_order %}\n    <div class=\"sw-order-general-info__order-state\">\n        <sw-order-state-select-v2\n            v-tooltip=\"{\n                message: $tc('sw-privileges.tooltip.warning'),\n                disabled: acl.can('order.editor'),\n                showOnDisabledElements: true\n            }\"\n            class=\"sw-order-general-info__order-state-order\"\n            :class=\"getBackgroundStyle()\"\n            :transition-options=\"orderStateOptions\"\n            rounded-style\n            state-type=\"order\"\n            :placeholder=\"order.stateMachineState.translated.name\"\n            :label=\"$tc('sw-order.stateCard.headlineOrderState')\"\n            :disabled=\"!acl.can('order.editor')\"\n            @state-select=\"onStateSelected\"\n        />\n    </div>\n{% endblock %}","import template from './sw-order-general-info.html.twig';\n\nShopware.Component.override('sw-order-general-info', {\n    template,\n\n    methods: {\n        getBackgroundStyle() {\n            const technicalName = this.order.stateMachineState.technicalName;\n            switch (technicalName) {\n                case 'in_progress':\n                    return 'sw-order-state__progress-select';\n                case 'completed':\n                    return 'sw-order-state__completed-select';\n                case 'cancelled':\n                    return 'sw-order-state__cancelled-select';\n                case 'open':\n                    return 'sw-order-state__open-select';\n                case 'fraud_pass':\n                    return 'sw-order-state__completed-select';\n                case 'fraud_review':\n                    return 'sw-order-state__progress-select';\n                case 'fraud_fail':\n                    return 'sw-order-state__cancelled-select';\n                default:\n                    return 'sw-order-state__open-select';\n            }\n        },\n    },\n});\n","{% block solu1_maxmind_api_test_button %}\n    <div class=\"solu1-maxmind-api-test\">\n        <sw-button-process\n            :is-loading=\"isLoading\"\n            :process-success=\"isSaveSuccessful\"\n            @process-finish=\"onProcessFinish\"\n            @click=\"checkConnection\"\n        >\n            {{ $tc('solu1-maxmind-config.apiTest.button') }}\n        </sw-button-process>\n    </div>\n{% endblock %}\n","import template from './maxmind-api-test.html.twig';\n\nconst { Component, Mixin } = Shopware;\n\nComponent.register('maxmind-api-test', {\n    template,\n\n    inject: ['MaxMindApiTestService'],\n\n    mixins: [Mixin.getByName('notification')],\n\n    data() {\n        return {\n            isLoading: false,\n            isSaveSuccessful: false,\n        };\n    },\n\n    computed: {\n        pluginConfig() {\n            const parent = this.getConfigParent();\n\n            if (!parent || !parent.actualConfigData) {\n                return {};\n            }\n\n            const salesChannelId = this.getCurrentSalesChannelId() ?? 'null';\n\n            return parent.actualConfigData[salesChannelId] ?? parent.actualConfigData.null ?? {};\n        },\n    },\n\n    methods: {\n        onProcessFinish() {\n            this.isSaveSuccessful = false;\n        },\n\n        getConfigParent() {\n            let current = this.$parent;\n\n            while (current && typeof current.actualConfigData === 'undefined') {\n                current = current.$parent;\n            }\n\n            return current ?? null;\n        },\n\n        getCurrentSalesChannelId() {\n            let current = this.$parent;\n\n            while (current && typeof current.currentSalesChannelId === 'undefined') {\n                current = current.$parent;\n            }\n\n            return current ? current.currentSalesChannelId : null;\n        },\n\n        buildPayload() {\n            const config = this.pluginConfig;\n\n            return {\n                accountId:\n                    config['MaxMind.config.MaxMindConfigAccountId'] ??\n                    config.MaxMindConfigAccountId ??\n                    null,\n                licenseKey:\n                    config['MaxMind.config.MaxMindConfigLicenseKey'] ??\n                    config.MaxMindConfigLicenseKey ??\n                    null,\n                salesChannelId: this.getCurrentSalesChannelId(),\n            };\n        },\n\n        checkConnection() {\n            const payload = this.buildPayload();\n\n            if (!payload.accountId || !payload.licenseKey) {\n                this.createNotificationError({\n                    title: this.$tc('solu1-maxmind-config.apiTest.errorTitle'),\n                    message: this.$tc('solu1-maxmind-config.apiTest.missingCredentials'),\n                });\n\n                return;\n            }\n\n            this.isLoading = true;\n\n            this.MaxMindApiTestService.check(payload)\n                .then((response) => {\n                    if (response?.success) {\n                        this.isSaveSuccessful = true;\n                        this.createNotificationSuccess({\n                            title: this.$tc('solu1-maxmind-config.apiTest.successTitle'),\n                            message: response.message ?? this.$tc('solu1-maxmind-config.apiTest.successMessage'),\n                        });\n\n                        return;\n                    }\n\n                    this.createNotificationError({\n                        title: this.$tc('solu1-maxmind-config.apiTest.errorTitle'),\n                        message: response?.message ?? this.$tc('solu1-maxmind-config.apiTest.errorMessage'),\n                    });\n                })\n                .catch((error) => {\n                    const message = error?.response?.data?.message ?? error?.message ?? '';\n\n                    this.createNotificationError({\n                        title: this.$tc('solu1-maxmind-config.apiTest.errorTitle'),\n                        message: message || this.$tc('solu1-maxmind-config.apiTest.errorMessage'),\n                    });\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n    },\n});\n","const { ApiService } = Shopware.Classes;\n\nclass MaxMindApiTestService extends ApiService {\n    constructor(httpClient, loginService, apiEndpoint = 'solu1-maxmind/test-connection') {\n        super(httpClient, loginService, apiEndpoint);\n    }\n\n    check(payload = {}) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .post(`_action/${this.getApiBasePath()}`, payload, { headers })\n            .then((response) => ApiService.handleResponse(response));\n    }\n}\n\nexport default MaxMindApiTestService;\n","import './module/sw-order/page/sw-order-list/index.js';\nimport './module/sw-order/view/sw-order-detail-general';\nimport './module/maxmind/extension/sw-order-list';\nimport './module/maxmind/extension/sw-order-general-info';\nimport './module/maxmind/styles.css';\n\nimport enGB from './module/maxmind/snippet/en-GB.json';\nimport deDE from './module/maxmind/snippet/de-DE.json';\n\nShopware.Locale.extend('en-GB', enGB);\nShopware.Locale.extend('de-DE', deDE);\n\nimport './component/maxmind-api-test';\n\nimport MaxMindApiTestService from './service/maxmind-api-test.service';\n\nShopware.Service().register('MaxMindApiTestService', () => {\n    return new MaxMindApiTestService(\n        Shopware.Application.getContainer('init').httpClient,\n        Shopware.Service('loginService')\n    );\n});\n"],"names":["template$4","Component","template","columns","value","order","_a","fraudScore","repo","stateIds","_b","_c","criteria","result","acc","state","e","id","template$3","factors","template$2","technicalName","item","template$1","Mixin","parent","salesChannelId","current","config","payload","response","error","message","ApiService","MaxMindApiTestService","httpClient","loginService","apiEndpoint","headers","enGB","deDE"],"mappings":"AAAA,MAAAA,EAAe,k1BCET,CAAA,UAAEC,CAAS,EAAK,SAEtBA,EAAU,SAAS,gBAAiB,CACpC,SAAIC,EACA,OAAQ,CAAC,mBAAmB,EAC5B,MAAO,CACH,MAAO,CACH,aAAc,CAAA,CAC1B,CACA,EAEI,MAAO,CACH,OAAQ,CACJ,SAAU,CACN,KAAK,kBAAiB,CACtC,EACY,UAAW,GACX,KAAM,EAClB,CACA,EAEI,SAAU,CACN,cAAe,CACX,MAAMC,EAAU,KAAK,OAAO,cAAc,EAE1C,OAAAA,EAAQ,KAAK,CACT,SAAU,kCACV,MAAO,mBACP,YAAa,GACb,MAAO,QACP,SAAU,GACV,QAAS,GACT,SAASC,EAAOC,EAAO,CDlCvC,IAAAC,ECmCoB,MAAMC,GAAaD,EAAAD,GAAA,YAAAA,EAAO,eAAP,YAAAC,EAAqB,mBACxC,OAAOC,GAAe,KAChB,WAAWA,CAAU,EACrB,GAC1B,CACA,CAAa,EAEMJ,CACnB,CACA,EAEI,QAAS,CACL,MAAM,mBAAoB,CACtB,MAAMK,EAAO,KAAK,kBAAkB,OAAO,eAAe,EAEpDC,EAAW,CAAC,GAAG,IAAI,KACpB,KAAK,QAAU,CAAA,GACX,IAAIJ,GAAK,CDpD9B,IAAAC,EAAAI,EAAAC,ECoDkC,OAAAA,GAAAD,GAAAJ,EAAAD,GAAA,YAAAA,EAAO,aAAP,YAAAC,EAAoB,KAApB,YAAAI,EAAwB,uBAAxB,YAAAC,EAA8C,eAAc,EACzE,OAAO,OAAO,CACnC,CAAa,EAED,GAAI,CAACF,EAAS,OAAQ,OAEtB,MAAMG,EAAW,IAAI,SAAS,KAAK,SAAS,EAAG,GAAG,EAClDA,EAAS,UAAU,SAAS,KAAK,SAAS,UAAU,KAAMH,CAAQ,CAAC,EAEnE,GAAI,CACA,MAAMI,EAAS,MAAML,EAAK,OAAOI,CAAQ,EACzC,KAAK,aAAeC,EAAO,OAAO,CAACC,EAAKC,KACpCD,EAAIC,EAAM,EAAE,EAAIA,EACTD,GACR,EAAE,CACrB,OAAqBE,EAAG,CACR,QAAQ,MAAM,iCAAkCA,CAAC,CACjE,CACA,EAEQ,iBAAiBC,EAAI,CDxE7B,IAAAX,EAAAI,ECyEY,QAAOA,GAAAJ,EAAA,KAAK,eAAL,YAAAA,EAAoBW,KAApB,YAAAP,EAAyB,OAAQ,EACpD,CACA,CACA,CAAC,EC5ED,MAAAQ,EAAe,qkDCEf,SAAS,UAAU,SAAS,0BAA2B,CACvD,SAAIhB,EAEA,MAAO,CACH,MAAO,CACH,oBAAqB,EACjC,CACA,EAEI,SAAU,CACN,YAAa,CHZrB,IAAAI,EGaY,MACI,GAACA,EAAA,KAAK,QAAL,MAAAA,EAAY,eACb,KAAK,MAAM,aAAa,qBAAuB,OAExC,MAEJ,KAAK,MAAM,aAAa,kBAC3C,EAEQ,kBAAmB,CHtB3B,IAAAA,EAAAI,EGuBY,QACIA,GAAAJ,EAAA,KAAK,QAAL,YAAAA,EAAY,eAAZ,YAAAI,EAA0B,6BAA8B,KAExE,EAEQ,aAAc,CH5BtB,IAAAJ,EAAAI,EG6BY,QAAOA,GAAAJ,EAAA,KAAK,QAAL,YAAAA,EAAY,eAAZ,YAAAI,EAA0B,wBAAyB,KACtE,EAEQ,eAAgB,CHhCxB,IAAAJ,EAAAI,EGiCY,QAAOA,GAAAJ,EAAA,KAAK,QAAL,YAAAA,EAAY,eAAZ,YAAAI,EAA0B,yBAA0B,EACvE,EAEQ,gBAAiB,CHpCzB,IAAAJ,EAAAI,EGqCY,QAAOA,GAAAJ,EAAA,KAAK,QAAL,YAAAA,EAAY,eAAZ,YAAAI,EAA0B,0BAA2B,GACxE,EAEQ,iBAAkB,CHxC1B,IAAAJ,EAAAI,EGyCY,MAAMS,IACFT,GAAAJ,EAAA,KAAK,QAAL,YAAAA,EAAY,eAAZ,YAAAI,EAA0B,2BAA4B,CAAA,EAC1D,OAAO,MAAM,QAAQS,CAAO,EAAIA,EAAU,CAAA,CACtD,EAEQ,gBAAiB,CACb,OACI,KAAK,aAAe,OACpB,KAAK,mBAAqB,OAC1B,KAAK,cAAgB,OACrB,KAAK,eACL,KAAK,iBAAmB,KACxB,KAAK,gBAAgB,OAAS,CAE9C,CACA,EAEI,QAAS,CACL,aAAc,CACN,KAAK,gBAAkB,KAAK,iBAAmB,IAC/C,OAAO,IAAI,KAAK,KAAK,eAAgB,QAAQ,EAE7C,KAAK,wBAAwB,CACzB,MAAO,UACP,QAAS,iCAC7B,CAAiB,CAEjB,EACQ,mBAAoB,CAChB,GAAI,CAAC,KAAK,cAAe,CACrB,KAAK,wBAAwB,CACzB,QAAS,KAAK,IAAI,+DAA+D,CACrG,CAAiB,EACD,MAChB,CAEY,UAAU,UACL,UAAU,KAAK,aAAa,EAC5B,KAAK,IAAM,CACR,KAAK,0BAA0B,CAC3B,QAAS,KAAK,IAAI,mEAAmE,CAC7G,CAAqB,CACrB,CAAiB,EACA,MAAM,IAAM,CACT,KAAK,wBAAwB,CACzB,QAAS,KAAK,IAAI,0DAA0D,CACpG,CAAqB,CACrB,CAAiB,CACjB,EAEQ,uBAAwB,CACpB,KAAK,oBAAsB,CAAC,KAAK,mBAC7C,CACA,CACA,CAAC,EC/FD,MAAAC,EAAe,4VCEf,SAAS,UAAU,SAAS,gBAAiB,CAC7C,SAAIlB,EAEA,QAAS,CACL,oBAAoBmB,EAAe,CAC/B,OAAQA,EAAa,CACjB,IAAK,aACD,MAAO,6BACX,IAAK,eACD,MAAO,+BACX,IAAK,aACD,MAAO,6BACX,IAAK,cACD,MAAO,8BACX,IAAK,YACD,MAAO,4BACX,IAAK,YACD,MAAO,4BACX,QACI,MAAO,EAC3B,CACA,EAEQ,yBAAyBC,EAAM,CAE3B,OADsBA,EAAK,kBAAkB,cACxB,CACjB,IAAK,cACD,MAAO,UACX,IAAK,YACD,MAAO,UACX,IAAK,YACD,MAAO,SACX,IAAK,OACD,MAAO,UACX,IAAK,aACD,MAAO,UACX,IAAK,eACD,MAAO,UACX,IAAK,aACD,MAAO,SACX,QACI,MAAO,SAC3B,CACA,CACA,CACA,CAAC,EC/CD,MAAAC,EAAe,gnBCEf,SAAS,UAAU,SAAS,wBAAyB,CACrD,SAAIrB,EAEA,QAAS,CACL,oBAAqB,CAEjB,OADsB,KAAK,MAAM,kBAAkB,cAC9B,CACjB,IAAK,cACD,MAAO,kCACX,IAAK,YACD,MAAO,mCACX,IAAK,YACD,MAAO,mCACX,IAAK,OACD,MAAO,8BACX,IAAK,aACD,MAAO,mCACX,IAAK,eACD,MAAO,kCACX,IAAK,aACD,MAAO,mCACX,QACI,MAAO,6BAC3B,CACA,CACA,CACA,CAAC,0yDC5BDA,EAAe,yTCET,CAAE,UAAAD,EAAW,MAAAuB,CAAK,EAAK,SAE7BvB,EAAU,SAAS,mBAAoB,CACnC,SAAAC,EAEA,OAAQ,CAAC,uBAAuB,EAEhC,OAAQ,CAACsB,EAAM,UAAU,cAAc,CAAC,EAExC,MAAO,CACH,MAAO,CACH,UAAW,GACX,iBAAkB,EAC9B,CACA,EAEI,SAAU,CACN,cAAe,CACX,MAAMC,EAAS,KAAK,gBAAe,EAEnC,GAAI,CAACA,GAAU,CAACA,EAAO,iBACnB,MAAO,CAAA,EAGX,MAAMC,EAAiB,KAAK,yBAAwB,GAAM,OAE1D,OAAOD,EAAO,iBAAiBC,CAAc,GAAKD,EAAO,iBAAiB,MAAQ,CAAA,CAC9F,CACA,EAEI,QAAS,CACL,iBAAkB,CACd,KAAK,iBAAmB,EACpC,EAEQ,iBAAkB,CACd,IAAIE,EAAU,KAAK,QAEnB,KAAOA,GAAW,OAAOA,EAAQ,iBAAqB,KAClDA,EAAUA,EAAQ,QAGtB,OAAOA,GAAW,IAC9B,EAEQ,0BAA2B,CACvB,IAAIA,EAAU,KAAK,QAEnB,KAAOA,GAAW,OAAOA,EAAQ,sBAA0B,KACvDA,EAAUA,EAAQ,QAGtB,OAAOA,EAAUA,EAAQ,sBAAwB,IAC7D,EAEQ,cAAe,CACX,MAAMC,EAAS,KAAK,aAEpB,MAAO,CACH,UACIA,EAAO,uCAAuC,GAC9CA,EAAO,wBACP,KACJ,WACIA,EAAO,wCAAwC,GAC/CA,EAAO,yBACP,KACJ,eAAgB,KAAK,yBAAwB,CAC7D,CACA,EAEQ,iBAAkB,CACd,MAAMC,EAAU,KAAK,aAAY,EAEjC,GAAI,CAACA,EAAQ,WAAa,CAACA,EAAQ,WAAY,CAC3C,KAAK,wBAAwB,CACzB,MAAO,KAAK,IAAI,yCAAyC,EACzD,QAAS,KAAK,IAAI,iDAAiD,CACvF,CAAiB,EAED,MAChB,CAEY,KAAK,UAAY,GAEjB,KAAK,sBAAsB,MAAMA,CAAO,EACnC,KAAMC,GAAa,CAChB,GAAIA,GAAA,MAAAA,EAAU,QAAS,CACnB,KAAK,iBAAmB,GACxB,KAAK,0BAA0B,CAC3B,MAAO,KAAK,IAAI,2CAA2C,EAC3D,QAASA,EAAS,SAAW,KAAK,IAAI,6CAA6C,CAC/G,CAAyB,EAED,MACxB,CAEoB,KAAK,wBAAwB,CACzB,MAAO,KAAK,IAAI,yCAAyC,EACzD,SAASA,GAAA,YAAAA,EAAU,UAAW,KAAK,IAAI,2CAA2C,CAC1G,CAAqB,CACrB,CAAiB,EACA,MAAOC,GAAU,CTxGlC,IAAAzB,EAAAI,ESyGoB,MAAMsB,IAAUtB,GAAAJ,EAAAyB,GAAA,YAAAA,EAAO,WAAP,YAAAzB,EAAiB,OAAjB,YAAAI,EAAuB,WAAWqB,GAAA,YAAAA,EAAO,UAAW,GAEpE,KAAK,wBAAwB,CACzB,MAAO,KAAK,IAAI,yCAAyC,EACzD,QAASC,GAAW,KAAK,IAAI,2CAA2C,CAChG,CAAqB,CACrB,CAAiB,EACA,QAAQ,IAAM,CACX,KAAK,UAAY,EACrC,CAAiB,CACjB,CACA,CACA,CAAC,ECrHD,KAAM,CAAE,WAAAC,CAAU,EAAK,SAAS,QAEhC,MAAMC,UAA8BD,CAAW,CAC3C,YAAYE,EAAYC,EAAcC,EAAc,gCAAiC,CACjF,MAAMF,EAAYC,EAAcC,CAAW,CACnD,CAEI,MAAMR,EAAU,GAAI,CAChB,MAAMS,EAAU,KAAK,gBAAe,EAEpC,OAAO,KAAK,WACP,KAAK,WAAW,KAAK,eAAc,CAAE,GAAIT,EAAS,CAAE,QAAAS,CAAO,CAAE,EAC7D,KAAMR,GAAaG,EAAW,eAAeH,CAAQ,CAAC,CACnE,CACA,CCLA,SAAS,OAAO,OAAO,QAASS,CAAI,EACpC,SAAS,OAAO,OAAO,QAASC,CAAI,EAMpC,SAAS,QAAO,EAAG,SAAS,wBAAyB,IAC1C,IAAIN,EACP,SAAS,YAAY,aAAa,MAAM,EAAE,WAC1C,SAAS,QAAQ,cAAc,CACvC,CACC"}